<nodes xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <node name="node_9_1517569800899" title="dialog init from the UI">
    <type>standard</type>
    <condition>$command  == "init"</condition>
    
    <output structure="emptyDict"/>
   
    <metadata structure="emptyDict"/>
  </node>
  

  <node name="get_values_start" title="get values">
    <type>standard</type>
    <condition>$command == "value"</condition>
    
    <output>
      <textValues>
        <values structure="listItem">Which values does the activity  &lt;?$value?&gt;?. promote or demote? I will ask later if they are negative or positive. First you can just mention the values.</values>
        <selection_policy>sequential</selection_policy>
      </textValues>
    </output>
    
    <digress_in>does_not_return</digress_in>
    <digress_out>allow_all</digress_out>
    <metadata>
      <fallback>leave</fallback>
      <_customization>
        <mcr type="boolean">False</mcr>
      </_customization>
    </metadata>
    <nodes>
      <node name="node_5_1517870109477" title="None">
        <type>standard</type>
        <condition>#does_not_know || @silence</condition>
        
        <output>
          <textValues>
            <values structure="listItem">Which values are influenced both positively and negatively by doing this activity? So what ideals, such as health or independence, is this activity good or bad for? </values>
            <selection_policy>sequential</selection_policy>
          </textValues>
        </output>
        <goto>
          <behavior>jump_to</behavior>
          <target>get_values_start</target>
          <selector>body</selector>
        </goto>
        <metadata structure="emptyDict"/>
      </node>
      <node name="node_1_1518098783467" title="does not make sence (noValues)">
        <type>standard</type>
        <condition>#does_not_make_sense</condition>
       
        <output>
          <textValues>
            <values structure="listItem">Should I continue with different activity?</values>
            <selection_policy>sequential</selection_policy>
          </textValues>
        </output>
        
        <metadata structure="emptyDict"/>
        <nodes>
          <node name="node_2_1518098783471" title="None">
            <type>standard</type>
            <condition>@yes_no == 'yes'</condition>
            <context>
              <correct>noValues</correct>
            </context>
            <output>
              <textValues>
                <values structure="listItem">OK.</values>
                <selection_policy>sequential</selection_policy>
              </textValues>
            </output>
            
            <metadata structure="emptyDict"/>
          </node>
          <node name="node_3_1518098783471" title="None">
            <type>standard</type>
            <condition>anything_else</condition>
            
            <output>
              <textValues>
                <values structure="listItem">No worries, let's try it again.</values>
                <selection_policy>sequential</selection_policy>
              </textValues>
            </output>
            <goto>
              <behavior>jump_to</behavior>
              <target>get_values_start</target>
              <selector>body</selector>
            </goto>
            <metadata structure="emptyDict"/>
          </node>
        </nodes>
      </node>
      <node name="node_6_1517870327423" title="store [] values">
        <type>standard</type>
        <condition>anything_else</condition>
        <context>
          <values_array>&lt;?input.text.split(', ')?&gt;</values_array>
        </context>
        <output structure="emptyDict"/>
        <goto>
          <behavior>skip_user_input</behavior>
          <target>first_child</target>
        </goto>
        <metadata structure="emptyDict"/>
        <nodes>
          <node name="node_7_1517870989448" title="repeat selected []">
            <type>standard</type>
            <condition>anything_else</condition>
            
            <output structure="emptyDict"/>
            
            <digress_out>allow_all</digress_out>
            <metadata>
              <_customization>
                <mcr type="boolean">True</mcr>
              </_customization>
            </metadata>
            <nodes>
              <node name="node_13_1518169490135" title="None">
                <type>response_condition</type>
                <condition>$values_array.size() == 1</condition>
                
                <output>
                  <textValues>
                    <values structure="listItem">Is the value &lt;?$values_array.join(', ')?&gt; influenced by doing the activity &lt;?$value?&gt;?</values>
                    <selection_policy>sequential</selection_policy>
                  </textValues>
                </output>
                
                <metadata structure="emptyDict"/>
              </node>
              <node name="node_14_1518169501351" title="None">
                <type>response_condition</type>
                <condition>$values_array.size() &gt; 1</condition>
                
                <output>
                  <textValues>
                    <values structure="listItem">Are the values &lt;?$values_array.join(', ')?&gt; influenced by doing the activity &lt;?$value?&gt;?</values>
                  </textValues>
                </output>
                
                <metadata structure="emptyDict"/>
              </node>
              <node name="node_8_1517871048967" title="correct">
                <type>standard</type>
                <condition>@yes_no == 'yes'</condition>
                <context>
                  <iterator type="number">0</iterator>
                  <polarities_array>&lt;? new JsonArray() ?&gt;</polarities_array>
                  <polarities_array_literals>&lt;? new JsonArray() ?&gt;</polarities_array_literals>
                </context>
                <output>
                  <textValues>
                    <values structure="listItem">Great. Now I will ask for each value, if it is positively or negatively influenced by doing of the activity &lt;?$value?&gt;.</values>
                    <selection_policy>sequential</selection_policy>
                  </textValues>
                </output>
                <goto>
                  <behavior>skip_user_input</behavior>
                  <target>first_child</target>
                </goto>
                <metadata structure="emptyDict"/>
                <nodes>
                  <node name="node_16_1517871660790" title="question">
                    <type>standard</type>
                    <condition>$iterator &lt; $values_array.size()</condition>
                    
                    <output>
                      <textValues>
                        <values structure="listItem">Does doing the activity &lt;?$value?&gt; influence the value &lt;?$values_array.get($iterator)?&gt; positively or negatively?</values>
                        <selection_policy>sequential</selection_policy>
                      </textValues>
                    </output>
                    
                    <metadata structure="emptyDict"/>
                    <nodes>
                      <node name="node_14_1517871553249" title="None">
                        <type>standard</type>
                        <condition>@positive-negative</condition>
                        <context>
                          <response>@positive-negative</response>
                          <response_literal>@positive-negative.literal</response_literal>
                        </context>
                        <output>
                          <textValues>
                            <values structure="listItem">Is the value &lt;?$values_array.get($iterator)?&gt; influenced &lt;?$response_literal?&gt;?</values>
                            <selection_policy>sequential</selection_policy>
                          </textValues>
                        </output>
                        
                        <digress_out>allow_all</digress_out>
                        <metadata>
                          <_customization>
                            <mcr type="boolean">False</mcr>
                          </_customization>
                        </metadata>
                        <nodes>
                          <node name="node_20_1517873067065" title="correct increase iterator">
                            <type>standard</type>
                            <condition>@yes_no == 'yes'</condition>
                            <context>
                              <iterator>&lt;?$iterator + 1?&gt;</iterator>
                              <polarities_array>&lt;? $polarities_array.append($response) ?&gt;</polarities_array>
                              <polarities_array_literals>&lt;? $polarities_array_literals.append($response_literal) ?&gt;</polarities_array_literals>
                            </context>
                            <output>
                              <textValues>
                                <values structure="listItem">Great.</values>
                                <values structure="listItem">Perfect.</values>
                                <values structure="listItem">Thanks.</values>
                                <selection_policy>sequential</selection_policy>
                              </textValues>
                            </output>
                            <goto>
                              <behavior>jump_to</behavior>
                              <target>node_16_1517871660790</target>
                              <selector>condition</selector>
                            </goto>
                            <metadata structure="emptyDict"/>
                          </node>
                          <node name="node_22_1517873161520" title="incorrect">
                            <type>standard</type>
                            <condition>anything_else</condition>
                            
                            <output>
                              <textValues>
                                <values structure="listItem">Sorry, let's try it again.</values>
                                <values structure="listItem">No worries, let's try it again.</values>
                                <selection_policy>sequential</selection_policy>
                              </textValues>
                            </output>
                            <goto>
                              <behavior>jump_to</behavior>
                              <target>node_16_1517871660790</target>
                              <selector>body</selector>
                            </goto>
                            <metadata structure="emptyDict"/>
                          </node>
                          <node name="node_19_1517872090731" title="None">
                            <type>response_condition</type>
                            <disabled>True</disabled>
                            
                            <output>
                              <textValues>
                                <values structure="listItem">You entered &lt;?$input.text?&gt;.</values>
                                <selection_policy>sequential</selection_policy>
                              </textValues>
                            </output>
                            
                            <metadata structure="emptyDict"/>
                          </node>
                        </nodes>
                      </node>
                      <node name="node_23_1517873252778" title="None">
                        <type>standard</type>
                        <condition>anything_else</condition>
                        
                        <output>
                          <textValues>
                            <values structure="listItem">I need you to say positively or negatively. Let's try it again.</values>
                            <selection_policy>sequential</selection_policy>
                          </textValues>
                        </output>
                        <goto>
                          <behavior>jump_to</behavior>
                          <target>node_16_1517871660790</target>
                          <selector>body</selector>
                        </goto>
                        <metadata structure="emptyDict"/>
                      </node>
                    </nodes>
                  </node>
                  <node name="node_2_1517874664622" title="recap">
                    <type>standard</type>
                    <condition>anything_else</condition>
                    <context>
                      <iterator type="number">-1</iterator>
                    </context>
                    <output>
                      <textValues>
                        <values structure="listItem">To be sure, I'll repeat the values influenced by doing the activity &lt;?$value?&gt;.</values>
                        <selection_policy>sequential</selection_policy>
                      </textValues>
                    </output>
                    <goto>
                      <behavior>skip_user_input</behavior>
                      <target>first_child</target>
                    </goto>
                    <metadata structure="emptyDict"/>
                    <nodes>
                      <node name="node_1_1517924014882" title="None">
                        <type>standard</type>
                        <condition>$iterator &lt; $values_array.size() - 1</condition>
                        
                        <output structure="emptyDict"/>
                        <goto>
                          <behavior>skip_user_input</behavior>
                          <target>first_child</target>
                        </goto>
                        <metadata structure="emptyDict"/>
                        <nodes>
                          <node name="node_6_1517924844593" title="printout">
                            <type>standard</type>
                            <condition>anything_else</condition>
                            <context>
                              <iterator>&lt;?$iterator + 1?&gt;</iterator>
                            </context>
                            <output>
                              <textValues>
                                <values structure="listItem">The value &lt;?$values_array.get($iterator)?&gt; is influenced &lt;?$polarities_array_literals.get($iterator)?&gt;.</values>
                                <selection_policy>sequential</selection_policy>
                              </textValues>
                            </output>
                            <goto>
                              <behavior>jump_to</behavior>
                              <target>node_1_1517924014882</target>
                              <selector>condition</selector>
                            </goto>
                            <metadata structure="emptyDict"/>
                          </node>
                        </nodes>
                      </node>
                      <node name="node_3_1517924244867" title="check summary">
                        <type>standard</type>
                        <condition>anything_else</condition>
                        
                        <output>
                          <textValues>
                            <values structure="listItem">Is that right?</values>
                            <selection_policy>sequential</selection_policy>
                          </textValues>
                        </output>
                        
                        <metadata structure="emptyDict"/>
                        <nodes>
                          <node name="node_4_1517924255578" title="correct">
                            <type>standard</type>
                            <condition>@yes_no:yes</condition>
                            <context>
                              <correct>true</correct>
                            </context>
                            <output>
                              <textValues>
                                <values structure="listItem">Great.</values>
                                <values structure="listItem">Perfect.</values>
                                <values structure="listItem">Thanks.</values>
                                <selection_policy>sequential</selection_policy>
                              </textValues>
                            </output>
                            
                            <metadata structure="emptyDict"/>
                          </node>
                          <node name="node_5_1517924309487" title="incorrect">
                            <type>standard</type>
                            <condition>anything_else</condition>
                            
                            <output>
                              <textValues>
                                <values structure="listItem">Sorry, let's try it again.</values>
                                <values structure="listItem">No worries, let's try it again.</values>
                                <selection_policy>sequential</selection_policy>
                              </textValues>
                            </output>
                            <goto>
                              <behavior>jump_to</behavior>
                              <target>get_values_start</target>
                              <selector>body</selector>
                            </goto>
                            <metadata structure="emptyDict"/>
                          </node>
                        </nodes>
                      </node>
                    </nodes>
                  </node>
                </nodes>
              </node>
              <node name="node_9_1517871083458" title="incorrect">
                <type>standard</type>
                <condition>anything_else</condition>
                
                <output>
                  <textValues>
                    <values structure="listItem">Sorry, let's try it again.</values>
                    <values structure="listItem">No worries, let's try it again.</values>
                    <selection_policy>sequential</selection_policy>
                  </textValues>
                </output>
                <goto>
                  <behavior>jump_to</behavior>
                  <target>get_values_start</target>
                  <selector>body</selector>
                </goto>
                <metadata structure="emptyDict"/>
              </node>
            </nodes>
          </node>
        </nodes>
      </node>
      <node name="node_4_1517870016310" title="None">
        <type>response_condition</type>
        <disabled>True</disabled>
        
        <output>
          <textValues>
            <values structure="listItem">Which values does the activity &lt;?$value?&gt; promote or demote? I will ask later if they are negative or positive. First you can just mention the values.</values>
            <selection_policy>sequential</selection_policy>
          </textValues>
        </output>
       
        <metadata structure="emptyDict"/>
      </node>
      <node name="slot_1_1517870015967" title="None">
        <type>slot</type>
        
        <nodes>
          <node name="handler_2_1517870015967" title="None">
            <type>event_handler</type>
            
            <event_name>input</event_name>
          </node>
          <node name="handler_3_1517870015967" title="None">
            <type>event_handler</type>
            
            <output structure="emptyDict"/>
            
            <event_name>focus</event_name>
          </node>
        </nodes>
      </node>
    </nodes>
  </node>
  <node name="node_1_1518710380713" title="all done">
    <type>standard</type>
    <condition>$command == "done"</condition>
    
    <output>
      <textValues>
        <values structure="listItem">That's it. Now the experiment leader will continue with the rest. Thank you very much for participating.</values>
        <selection_policy>sequential</selection_policy>
      </textValues>
    </output>
    
    <metadata structure="emptyDict"/>
  </node>
  <node name="node_39_1517653572235" title="agent description">
    <type>standard</type>
    <condition>#agent_description</condition>
    
    <output>
      <textValues>
        <values structure="listItem">I am HabInt, I'm conversational user interface - a agent which based on structure interview creates the knowledge about your activities in order to promote positive and denote negative ones. Part of me was created in Prague and part in Delft.</values>
        <selection_policy>sequential</selection_policy>
      </textValues>
    </output>
    
    <metadata structure="emptyDict"/>
  </node>
  <node name="node_1_1517655208009" title="experiment description">
    <type>standard</type>
    <condition>#experiment_description</condition>
    
    <output>
      <textValues>
        <values structure="listItem">The aim of the experiment is to test my first version, where I learn the habits and preferences of my users. To day we will focus on the structured dialogue about daily/weekly activities which are sometimes stressful, which will help me to learn more about you. When you came across something odd in my reactions please remember it for later when the experiment leader will ask you for all your experiences.</values>
        <selection_policy>sequential</selection_policy>
      </textValues>
    </output>
    
    <metadata structure="emptyDict"/>
  </node>
  <node name="V ostatních případech">
    <type>standard</type>
    <condition>anything_else</condition>
    
    <output>
      <textValues>
        <values structure="listItem">I don't understand, try to reformulate your question.</values>
        <values structure="listItem">Can you ask once again a little different? I did not understand.</values>
        <values structure="listItem">I did not understand what did you ask.</values>
        <selection_policy>sequential</selection_policy>
      </textValues>
    </output>
    
    <metadata structure="emptyDict"/>
  </node>
</nodes>
